# =====================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# Ableka Lumina - Compliance Engine
# =====================================================
# SECURITY WARNING: Never commit actual secrets to Git
# Use AWS Secrets Manager, HashiCorp Vault, or similar
# This file contains sensitized placeholders
# =====================================================

# =====================================================
# DATABASE CONFIGURATION (Production)
# =====================================================
# Use RDS endpoint or managed database
DB_HOST=compliance-db.prod.internal
DB_USER=prod_user
DB_PASSWORD=${PROD_DB_PASSWORD}
DB_NAME=compliance_prod
DB_PORT=5432
DB_POOL_MAX=50
DB_POOL_MIN=10
DB_POOL_IDLE_TIMEOUT=30000
DB_SSL=true

# =====================================================
# API CONFIGURATION (Production)
# =====================================================
API_HOST=0.0.0.0
API_PORT=3000
API_EXTERNAL_PORT=443
NODE_ENV=production
API_LOG_LEVEL=info
API_CORS_ORIGIN=https://compliance.ableka.com,https://api.ableka.com

# =====================================================
# AGENTS CONFIGURATION (Production)
# =====================================================
AGENTS_PORT=3002
AGENTS_EXTERNAL_PORT=8443
AGENTS_HOST=0.0.0.0
AGENTS_LOG_LEVEL=info

# =====================================================
# REDIS CONFIGURATION (Production)
# =====================================================
# Use AWS ElastiCache or managed Redis
REDIS_HOST=compliance-cache.prod.internal
REDIS_PORT=6379
REDIS_PASSWORD=${PROD_REDIS_PASSWORD}
REDIS_DB=0
REDIS_TLS=true
REDIS_SENTINEL_ENABLED=true
REDIS_SENTINEL_MASTER=compliance-master

# =====================================================
# LOGGING CONFIGURATION (Production)
# =====================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=file
LOG_FILE_PATH=/var/log/ableka/compliance.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=90
SENTRY_DSN=${PROD_SENTRY_DSN}

# =====================================================
# AUTHENTICATION & SECURITY (Production)
# =====================================================
JWT_SECRET=${PROD_JWT_SECRET}
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
SESSION_SECRET=${PROD_SESSION_SECRET}

# Encryption key for sensitive data (AES-256-GCM)
# MUST be different from development
# Store in AWS Secrets Manager or similar
ENCRYPTION_KEY=${PROD_ENCRYPTION_KEY}

# Signing keys for digital signatures (RSA-4096)
# Use KMS or Vault-managed keys for rotation
SIGNING_PRIVATE_KEY=${PROD_SIGNING_PRIVATE_KEY}
SIGNING_PUBLIC_KEY=${PROD_SIGNING_PUBLIC_KEY}

# =====================================================
# EXTERNAL API INTEGRATIONS (Production)
# =====================================================
# Ballerine KYC Integration
BALLERINE_API_KEY=${PROD_BALLERINE_API_KEY}
BALLERINE_API_URL=https://api.ballerine.io
BALLERINE_WEBHOOK_SECRET=${PROD_BALLERINE_WEBHOOK_SECRET}

# Marble AML Integration
MARBLE_API_KEY=${PROD_MARBLE_API_KEY}
MARBLE_API_URL=https://api.marbleprotection.com

# Chainalysis Blockchain Integration
CHAINALYSIS_API_KEY=${PROD_CHAINALYSIS_API_KEY}
CHAINALYSIS_API_URL=https://api.chainalysis.com

# The Graph Subgraph Integration
THE_GRAPH_API_KEY=${PROD_THE_GRAPH_API_KEY}

# OpenAI / LLM Integration (for Grok/Claude)
GROK_API_KEY=${PROD_GROK_API_KEY}
GROK_API_URL=https://api.grok.ai

# LangChain Configuration
LANGCHAIN_API_KEY=${PROD_LANGCHAIN_API_KEY}
LANGCHAIN_TRACING_V2=true

# =====================================================
# BLOCKCHAIN CONFIGURATION (Production)
# =====================================================
# Ethereum Mainnet
ETHEREUM_NETWORK=mainnet
ETHEREUM_RPC_URL=${PROD_ETHEREUM_RPC_URL}
ETHEREUM_BLOCK_TIME=12

# Hyperledger Besu (Permissioned)
BESU_RPC_URL=${PROD_BESU_RPC_URL}
BESU_PRIVATE_KEY=${PROD_BESU_PRIVATE_KEY}
BESU_CHAIN_ID=1337

# Solana Mainnet
SOLANA_RPC_URL=${PROD_SOLANA_RPC_URL}

# =====================================================
# COMPLIANCE & JURISDICTION CONFIGURATION (Production)
# =====================================================
JURISDICTION_RULES_PATH=/etc/ableka/jurisdictions
SUPPORTED_JURISDICTIONS=AE,US,EU,IN,SG,UK,HK
DEFAULT_JURISDICTION=AE

# SAR/CTR Filing Configuration
SAR_FILING_ENABLED=true
CTR_FILING_ENABLED=true
SAR_BATCH_SIZE=100
SAR_BATCH_INTERVAL=3600

# =====================================================
# MONITORING & OBSERVABILITY (Production)
# =====================================================
# Datadog Integration
DATADOG_ENABLED=true
DATADOG_API_KEY=${PROD_DATADOG_API_KEY}
DATADOG_SITE=datadoghq.com

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# CloudWatch Logs (AWS)
CLOUDWATCH_ENABLED=true
CLOUDWATCH_LOG_GROUP=/aws/ecs/ableka-lumina

# =====================================================
# HEALTH CHECKS & HEARTBEAT (Production)
# =====================================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
LIVENESS_PROBE_PATH=/health/live
READINESS_PROBE_PATH=/health/ready

# =====================================================
# RATE LIMITING & THROTTLING (Production)
# =====================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_BYPASS_TOKENS=${PROD_RATE_LIMIT_BYPASS_TOKENS}

# =====================================================
# BACKUP & DISASTER RECOVERY (Production)
# =====================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * * (Daily at 2 AM UTC)
BACKUP_RETENTION_DAYS=30
S3_BACKUP_BUCKET=${PROD_S3_BACKUP_BUCKET}
S3_BACKUP_REGION=us-east-1

# =====================================================
# DEPLOYMENT & INFRASTRUCTURE (Production)
# =====================================================
DEPLOYMENT_ENV=production
DEPLOYMENT_REGION=us-east-1
KUBERNETES_NAMESPACE=ableka-prod
CONTAINER_REGISTRY=ECR
CONTAINER_IMAGE_TAG=latest-prod

# =====================================================
# FEATURE FLAGS (Production)
# =====================================================
FEATURE_RWA_COMPLIANCE_ENGINE=true
FEATURE_BLOCKCHAIN_MONITORING=true
FEATURE_AI_AGENT_ORCHESTRATION=true
FEATURE_REAL_TIME_STREAMING=true
FEATURE_ADVANCED_ANALYTICS=true

# =====================================================
# ALERTS & NOTIFICATIONS (Production)
# =====================================================
ALERT_EMAIL=ops@ableka.com
ALERT_SLACK_WEBHOOK=${PROD_ALERT_SLACK_WEBHOOK}
ALERT_PAGERDUTY_KEY=${PROD_ALERT_PAGERDUTY_KEY}

# Critical Alert Thresholds
ALERT_ERROR_RATE_THRESHOLD=0.5
ALERT_LATENCY_THRESHOLD_MS=1000
ALERT_CPU_THRESHOLD=80
ALERT_MEMORY_THRESHOLD=85

# =====================================================
# COMPLIANCE & AUDIT (Production)
# =====================================================
AUDIT_LOGGING_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
COMPLIANCE_MODE=strict
PRIVACY_MODE=gdpr
DATA_RESIDENCY=eu-only

# =====================================================
# CERTIFICATE & SSL (Production)
# =====================================================
SSL_CERT_PATH=/etc/ssl/certs/ableka.crt
SSL_KEY_PATH=/etc/ssl/private/ableka.key
SSL_PROTOCOL=TLSv1.2
SSL_CIPHER_SUITE=high

# =====================================================
# APPLICATION VERSION & BUILD (Production)
# =====================================================
APP_VERSION=1.0.0-prod
BUILD_NUMBER=${PROD_BUILD_NUMBER}
BUILD_COMMIT=${PROD_BUILD_COMMIT}
RELEASE_DATE=${PROD_RELEASE_DATE}

# =====================================================
# NOTES FOR PRODUCTION DEPLOYMENT
# =====================================================
# 1. NEVER commit actual secret values to Git
# 2. Use CI/CD pipeline to inject secrets at deployment time
# 3. Rotate JWT_SECRET, ENCRYPTION_KEY quarterly
# 4. Audit all access to this configuration
# 5. Use AWS Secrets Manager or HashiCorp Vault for secret storage
# 6. Monitor all configuration changes
# 7. Test all changes in staging before production
# 8. Have rollback plan ready
# 9. Document all production-specific settings
# 10. Maintain disaster recovery procedures
